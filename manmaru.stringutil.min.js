/**
  Utilities for manipulating and searching Strings.
  Inspired from CASA Lib / AS 2.0 (v.05/09/07) - Aaron Clinger, Mike Creighton

  @author Adrien Dufond - manmaru, Inc.
  @src https://github.com/adrien-dufond/
  @version 0.1
  @since 18/06/2013
  
  Distributed under the terms of the MIT license.
  http://www.opensource.org/licenses/mit-license.html
*/

StringUtil=function(){function e(){}e.addAt=function(e,t,n){var r=e.split("");r.splice(t,0,n);return r.join("")};e.contains=function(e,t){var n=e.indexOf(t);var r=0;while(n>-1){n=e.indexOf(t,n+1);r++}return r};e.getNumbersFromString=function(t){var n=-1;while(++n<t.length){if(isNaN(t.charAt(n))){t=e.removeAt(t,n);n--}}return t};e.getUniqueCharacters=function(e){var t="";var n=-1;var r;while(++n<e.length){r=e.charAt(n);if(t.indexOf(r)==-1){t+=r}}return t};e.remove=function(t,n){return e.replace(t,n,"")};e.removeAt=function(t,n){return e.replaceAt(t,n,"")};e.removeNumbersFromString=function(t){var n=-1;while(++n<t.length){if(!isNaN(t.charAt(n))){t=e.removeAt(t,n);n--}}return t};e.removeWhitespace=function(e){return e.replace(/\s/g,"")};e.replace=function(e,t,n){return e.split(t).join(n)};e.replaceAt=function(e,t,n){var r=e.split("");r.splice(t,1,n);return r.join("")};e.toTitleCase=function(t){var n=t.split(" ");var r=-1;while(++r<n.length)n[r]=e.replaceAt(n[r],0,n[r].charAt(0).toUpperCase());return n.join(" ")};e.urlValue=function(e,t){if(!t)t=window.location.href;var n="[\\?&]"+e+"=([^&#]*)";var r=new RegExp(n);var i=t;var s=r.exec(i);if(s==null)return"";else return s[1]};e.urlFriendly=function(e,t){if(t===undefined)t=255;var n=new Array;n.push(new Array("a",/[áàâãªÁÀÂÃ]/g));n.push(new Array("e",/[éèêëÉÈÊË]/g));n.push(new Array("i",/[íìîïÍÌÎÏ]/g));n.push(new Array("o",/[òóôõöÓÒÔÕÖ]/g));n.push(new Array("u",/[úùûüÚÙÛÜ]/g));n.push(new Array("c",/[çÇ]/g));n.push(new Array("n",/[Ññ]/g));n.push(new Array("-",/[.]/g));n.push(new Array("",/['"()\[\]/*++\¿?#@$º&*^·,.!¡%=+|]/g));for(var r=0;r<n.length;r++)e=e.replace(n[r][1],n[r][0]);return e.replace(/\s+/g,"-").replace(/\_+/g,"-").toLowerCase().replace(/\-{2,}/g,"-").replace(/(^\s*)|(\s*$)/g,"").substr(0,t)};e.pathVars=function(e,t){if(t==undefined)t=false;e=e.split("/");var n=new Array;for(var r=0;r<e.length;r++){if(e[r]){e[r]=jQuery.trim(e[r]);if(t){var i=parseInt(e[r]);if(i)e[r]=i}n.push(e[r])}}return n};e.utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t};e.utf8Decode=function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=utftext.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=utftext.charCodeAt(n+1);c3=utftext.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t};e.lnToBr=function(e){return e.replace(/\r?\n/g,"<br>")};e.brToLn=function(e){return e.replace(/<br\s*[\/]?>/gi,"\n")};return e}()
